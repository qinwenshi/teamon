/*
  filename: angular.integralui.lists.min.js
  version : 2.2.0
  Copyright © 2014-2015 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Studio for Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
angular.module("integralui").factory("IntegralUIFilter",function(){var c=function(d){return d?"string"==typeof d||d instanceof String:!1},f=function(d,a,b,l){var e=!1;if(void 0!=d&&void 0!=b){switch(a){case ">":e=d>b;break;case ">=":e=d>=b;break;case "<":e=d<b;break;case "<=":e=d<=b;break;case "=":e=d==b;break;case "!=":e=d!=b;break;case "<>":e=d!=b;break;case "->":e=void 0!=d&&void 0!=b&&c(d)&&c(b)&&d.length>=b.length&&d.substring(0,b.length)==b?!0:!1;break;case "<-":e=void 0!=d&&void 0!=b&&c(d)&&c(b)&&d.length>=b.length&&d.substring(d.length-b.length,d.length)==b?!0:!1;break;case "><":e=c(d)?-1<d.indexOf(b):!1;break;case "[]":e=c(d)?-1<d.indexOf(b):!1}1==l&&(e=!e)}return e},a=function(d,a,b){if(Array.isArray(a.value)){for(var c=[],e=0;e<a.value.length;e++)c.push(f(d,a.operation,a.value[e],b));d=!0;if("&"==a.join)for(e=0;e<c.length;e++)d=d&&c[e];else for(d=!1,e=0;e<c.length;e++)d=d||c[e];return d}return f(d,a.operation,a.value,b)},b=function(d,c){if(c){var g=c;g.left&&(g.left.condition?g.left.result=a(d,g.left.condition,g.left.negative):(g=g.left,b(d,g)));g=c;g.right&&(g.right.condition?g.right.result=a(d,g.right.condition,g.right.negative):(g=g.right,b(d,g)));"&"==c.operator?(c.result=!0,c.left&&(c.result=c.result&&c.left.result),c.right&&(c.result=c.result&&c.right.result)):(c.result=!1,c.left&&(c.result=c.result||c.left.result),c.right&&(c.result=c.result||c.right.result));return c.result}return!0};return{createTree:function(a,b){if(b){for(var c={result:!1},f=c,e=null,k=!1,h=0;h<b.length;h++)if(e=b[h],e="a"==e||"b"==e||"c"==e||"d"==e||"e"==e||"f"==e||"g"==e||"h"==e||"i"==e||"j"==e||"k"==e||"l"==e||"m"==e||"n"==e||"o"==e||"p"==e||"q"==e||"r"==e||"s"==e||"t"==e||"u"==e||"v"==e||"w"==e||"x"==e||"y"==e||"z"==e?!0:!1,e){var e=f,q=k,m={result:!1},n=a,p="abcdefghijklmnopqrstuvwxyz".indexOf(b[h]);m.condition=n&&0<=p&&p<n.length?n[p]:null;m.negative=q;e.left?e.right||(e.right=m):e.left=m}else"&"==b[h]||"|"==b[h]?(k=!1,f.operator=b[h]):"!"==b[h]?k=!0:"("==b[h]?(k=!1,e={result:!1},e.parent=f,f=e):")"==b[h]&&(k=!1,f.parent&&(f.parent.left?f.parent.right||(f.parent.right=f):f.parent.left=f),f=f.parent);return c}return null},match:function(d,c,f,l){return Array.isArray(c)?(l||(l=this.createTree(c,f)),b(d,l)):a(d,c,c?c.negative:!1)},filter:function(a,b,c,f,e){var k=[];if(a&&Array.isArray(a))for(var h=0;h<a.length;h++)this.match(b?a[h][b]:a[h],c,f,e)&&k.push(a[h]);return k}}}).factory("IntegralUIListCtrlService",["$rootScope","IntegralUIPublicService",function(c,f){return{addItem:function(a,b){c.$broadcast(a+"-add-item",b)},clearItems:function(a){c.$broadcast(a+"-clear-items")},insertItemAt:function(a,b,d){c.$broadcast(a+"-insert-item-at",b,d)},insertItemBefore:function(a,b,d){c.$broadcast(a+"-insert-item-before",b,d)},insertItemAfter:function(a,b,d){c.$broadcast(a+"-insert-item-after",b,d)},removeItem:function(a,b){c.$broadcast(a+"-remove-item",b)},removeItemAt:function(a,b){c.$broadcast(a+"-remove-item-at",b)},loadData:function(a,b,d){c.$broadcast(a+"-load-data",b,d)},findItemById:function(a,b){c.$broadcast(a+"-find-item-by-id",b);var d=this.getTempData();this.clearTempData();return d?d:null},findItemByText:function(a,b){c.$broadcast(a+"-find-item-by-text",b);var d=this.getTempData();this.clearTempData();return d?d:null},focus:function(a,b){c.$broadcast(a+"-focus",b)},ensureVisible:function(a,b,d){c.$broadcast(a+"-ensure-visible",b,d)},getCheckList:function(a,b){c.$broadcast(a+"-get-check-list",b);var d=f.getTempData();f.clearTempData();return d?d:[]},getList:function(a){c.$broadcast(a+"-get-list");a=f.getTempData();f.clearTempData();return a?a:[]},selectedItem:function(a,b){if(b)c.$broadcast(a+"-set-selected-item",b);else{c.$broadcast(a+"-get-selected-item");var d=f.getTempData();f.clearTempData();return d?d:null}},selectedItems:function(a){c.$broadcast(a+"-get-selected-items");a=f.getTempData();f.clearTempData();return a?a:null},scrollTo:function(a,b,d){c.$broadcast(a+"-scroll-to",b,d)},refresh:function(a,b){c.$broadcast(a+"-refresh",b)},resumeLayout:function(a){c.$broadcast(a+"-resume-layout")},suspendLayout:function(a){c.$broadcast(a+"-suspend-layout")},updateLayout:function(a){c.$broadcast(a+"-update-layout")},updateView:function(a){c.$broadcast(a+"-update-view")}}}]).factory("IntegralUIListService",["$rootScope",function(c){var f=null;return{addItem:function(a,b,d){c.$broadcast(a+"-add-item",b,d)},clearItems:function(a,b){c.$broadcast(a+"-clear-items",b)},insertItemAt:function(a,b,d){c.$broadcast(a+"-insert-item-at",b,d)},insertItemBefore:function(a,b,d){c.$broadcast(a+"-insert-item-before",b,d)},insertItemAfter:function(a,b,d){c.$broadcast(a+"-insert-item-after",b,d)},removeItem:function(a,b){c.$broadcast(a+"-remove-item",b)},removeItemAt:function(a,b){c.$broadcast(a+"-remove-item-at",b)},clearTempData:function(){f=null},ensureVisible:function(a,b){c.$broadcast(a+"-ensure-visible",b)},getTempData:function(){return f},setTempData:function(a){f=a},selectedItem:function(a,b){if(b)c.$broadcast(a+"-set-selected-item",b);else{c.$broadcast(a+"-get-selected-item");var d=this.getTempData();this.clearTempData();return d?d:null}},selectedItems:function(a){c.$broadcast(a+"-get-selected-items");a=this.getTempData();this.clearTempData();return a?a:null}}}]).filter("pagination",function(){return function(c,f,a){f=parseInt(f,10);a=parseInt(a,10);f=((0>=f?1:f)-1)*a;return c.slice(f,f+a)}});